---
title: Organic Layout
section: 5
tags: []
---
import TypeLink from '../../components/TypeLink.astro'
import Playground from '../../components/Playground.astro'

#  Organic Layout

The *organic layout algorithm* is designed to arrange nodes in an organic fashion that effectively highlight the
underlying structure of complex graphs.

<div style={{display: 'flex', flexDirection: 'row', flexWrap: 'wrap', gap: '10px', justifyContent: 'center', margin: '40px 0'}}>
  <img src={`${import.meta.env.BASE_URL}/organic-layout.png`} style={{maxWidth: "80%", objectFit: "cover"}} alt="Organic Layout"></img>
</div>

The organic layout algorithm provides extensive customization options through a wide array of properties accessible
via the `OrganicLayoutOptions`. Fundamental options include preferred edge lengths, substructure detection, minimum node distances, and more.
It also automatically places node and edge labels when the corresponding properties are activated.

Additional customization for individual graph elements, such as `edgeLabelPreferredPlacements`, `nodeMargins`, and more, can be achieved via
the `OrganicLayoutDataProvider`.

Feel free to play around with the orthogonal layout configuration in our [online playground](organiclayout#playground).

Extensive documentation detailing all available properties of the organic layout supported by *yFiles layouts for React Flow* can be
found [here](https://docs.yworks.com/yfileshtml/#/api/OrganicLayout).

```tsx
runLayout({
  name: 'OrganicLayout',
  layoutOptions: {
    edgeLabelPlacement: 'integrated',
    deterministic: true,
    defaultMinimumNodeDistance: 100
  },
  layoutData: {
    edgeLabelPreferredPlacements: () => ({
      edgeSide: 'left-of-edge',
      distanceToEdge: 20,
    })
  }
})
```


## OrganicLayoutOptions


The configuration options for the organic layout algorithm that arranges graphs in an organic fashion. <p> For more information on the layout algorithm and its available settings, see [OrganicLayout](https://docs.yworks.com/yfileshtml/#/api/OrganicLayout). </p>

| Name | Type |
|---|---|
| <div id="allowclusterasgroupsubstructure">allowClusterAsGroupSubstructure?</div> | <pre>boolean</pre> |
| <div id="allownodeoverlaps">allowNodeOverlaps?</div> | <pre>boolean</pre> |
| <div id="automaticgroupnodecompaction">automaticGroupNodeCompaction?</div> | <pre>boolean</pre> |
| <div id="avoidnodeedgeoverlap">avoidNodeEdgeOverlap?</div> | <pre>boolean</pre> |
| <div id="chainrecognition">chainRecognition?</div> | <pre>boolean</pre> |
| <div id="chainsubstructuresize">chainSubstructureSize?</div> | <pre>number</pre> |
| <div id="chainsubstructurestyle">chainSubstructureStyle?</div> | <pre>"none" &#124; "rectangular" &#124; "rectangular-nested" &#124; "straight-line" &#124; "straight-line-nested" &#124; "disk" &#124; "disk-nested"</pre> |
| <div id="circlerecognition">circleRecognition?</div> | <pre>boolean</pre> |
| <div id="clusteringpolicy">clusteringPolicy?</div> | <pre>"none" &#124; "louvain-modularity" &#124; "edge-betweenness" &#124; "label-propagation" &#124; "user-defined"</pre> |
| <div id="compactnessfactor">compactnessFactor?</div> | <pre>number</pre> |
| <div id="cyclesubstructuresize">cycleSubstructureSize?</div> | <pre>number</pre> |
| <div id="cyclesubstructurestyle">cycleSubstructureStyle?</div> | <pre>"none" &#124; "circular" &#124; "circular-nested"</pre> |
| <div id="defaultminimumnodedistance">defaultMinimumNodeDistance?</div> | <pre>number</pre> |
| <div id="defaultpreferrededgelength">defaultPreferredEdgeLength?</div> | <pre>number</pre> |
| <div id="deterministic">deterministic?</div> | <pre>boolean</pre> |
| <div id="edgelabelplacement">edgeLabelPlacement?</div> | <pre>"generic" &#124; "ignore" &#124; "integrated"</pre> |
| <div id="groupnodecompactness">groupNodeCompactness?</div> | <pre>number</pre> |
| <div id="groupsubstructurescope">groupSubstructureScope?</div> | <pre>"no-groups" &#124; "groups-without-edges" &#124; "groups-without-inter-edges" &#124; "all-groups"</pre> |
| <div id="groupsubstructuresize">groupSubstructureSize?</div> | <pre>number</pre> |
| <div id="groupsubstructurestyle">groupSubstructureStyle?</div> | <pre>"circle" &#124; "compact-disk" &#124; "disk" &#124; "organic-disk"</pre> |
| <div id="layoutorientation">layoutOrientation?</div> | <pre>"top-to-bottom" &#124; "left-to-right" &#124; "right-to-left" &#124; "bottom-to-top"</pre> |
| <div id="nodelabelplacement">nodeLabelPlacement?</div> | <pre>"consider" &#124; "generic" &#124; "ignore"</pre> |
| <div id="parallelsubstructuresize">parallelSubstructureSize?</div> | <pre>number</pre> |
| <div id="parallelsubstructurestyle">parallelSubstructureStyle?</div> | <pre>"none" &#124; "rectangular" &#124; "radial" &#124; "straight-line"</pre> |
| <div id="parallelsubstructuretypeseparation">parallelSubstructureTypeSeparation?</div> | <pre>boolean</pre> |
| <div id="preferredminimumnodetoedgedistance">preferredMinimumNodeToEdgeDistance?</div> | <pre>number</pre> |
| <div id="qualitytimeratio">qualityTimeRatio?</div> | <pre>number</pre> |
| <div id="starsubstructuresize">starSubstructureSize?</div> | <pre>number</pre> |
| <div id="starsubstructurestyle">starSubstructureStyle?</div> | <pre>"none" &#124; "radial" &#124; "radial-nested" &#124; "separated-radial" &#124; "circular" &#124; "circular-nested"</pre> |
| <div id="starsubstructuretypeseparation">starSubstructureTypeSeparation?</div> | <pre>boolean</pre> |
| <div id="stopduration">stopDuration?</div> | <pre>number</pre> |
| <div id="treesubstructuresize">treeSubstructureSize?</div> | <pre>number</pre> |
| <div id="treesubstructurestyle">treeSubstructureStyle?</div> | <pre>"none" &#124; "oriented" &#124; "radial" &#124; "radial-tree"</pre> |
## OrganicLayoutDataProvider&lt;TNodeData, TEdgeData&gt;

A provider for individual options per nodes or edges in a [OrganicLayout](https://docs.yworks.com/yfileshtml/#/api/OrganicLayout). It allows for defining a function that provide values for each element.

For more information, see [OrganicLayoutData](https://docs.yworks.com/yfileshtml/#/api/OrganicLayoutData).

| Name | Description | Type |
|---|---|---|
| <div id="edgelabelpreferredplacements">edgeLabelPreferredPlacements?</div> |  Provides descriptors for the placement of edge labels. | <pre>(label: <TypeLink type="LabelData"/>) =&gt; <TypeLink type="EdgeLabelPreferredPlacement"/></pre> |
| <div id="groupnodepadding">groupNodePadding?</div> |  Provides the paddings for the group nodes, i.e., a rectangular area like padding in the interior of the node. | <pre>(node: TNodeData) =&gt; <TypeLink type="Insets"/></pre> |
| <div id="minimumedgelengths">minimumEdgeLengths?</div> |  Provides the minimal length that an edge should have. | <pre>(edge: TEdgeData) =&gt; number</pre> |
| <div id="minimumnodedistances">minimumNodeDistances?</div> |  Provides the minimal distance from a node to all other nodes. | <pre>(node: TNodeData) =&gt; number</pre> |
| <div id="nodemargins">nodeMargins?</div> |  Provides margins for nodes, i.e., a rectangular area around a specific node considered during the layout. | <pre>(node: TNodeData) =&gt; <TypeLink type="NodeMargins"/></pre> |
| <div id="nodetypes">nodeTypes?</div> |  Provides types which can influence the ordering of nodes during layout. | <pre>(node: TNodeData) =&gt; any</pre> |
| <div id="preferrededgelengths">preferredEdgeLengths?</div> |  Provides the preferred length for an edge. It is not mandatory but works as a guidance length. | <pre>(edge: TEdgeData) =&gt; number</pre> |
| <div id="scope">scope?</div> |  Provides which nodes should be placed. | <pre><TypeLink type="OrganicScopeDataProvider"/>&lt;TNodeData&gt;</pre> |


## Playground

<Playground
    code={`// edge type that supports bends
    const edgeTypes = {
      default: PolylineEdge,
    };
    // node type that supports multiple handles
    const nodeTypes = {
      default: MultiHandleNode,
    };

    // initialize data
    const initialNodes = data.nodes;
    const initialEdges = data.edges;

    const layoutOptions: OrganicLayoutOptions = {
      deterministic: true,
      defaultPreferredEdgeLength: 35,
      nodeLabelPlacement: 'consider'
    };


    function LayoutFlow() {
      const [nodes, , onNodesChange] = useNodesState(initialNodes);
      const [edges, , onEdgesChange] = useEdgesState(initialEdges);

      // call the useLayout-hook to get the function that invokes the layout
      const { runLayout } = useLayout();

      // run initial layout
      useNodesMeasuredEffect(() => {
        runLayout({
          name: 'OrganicLayout',
          layoutOptions
        });
      });

      return (
        <ReactFlow
          nodes={nodes}
          edges={edges}
          nodeTypes={nodeTypes}
          edgeTypes={edgeTypes}
          onNodesChange={onNodesChange}
          onEdgesChange={onEdgesChange}
          minZoom={0.000000000001}
        >
        </ReactFlow>
      );
    }

    function App() {
      return (
        <ReactFlowProvider>
          <LayoutFlow></LayoutFlow>
        </ReactFlowProvider>
      );
    }
`}
 data={`{
  "nodes": [
    {
      "id": "0",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "1",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "2",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "3",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" },
      "className": "connector-node"
    },
    {
      "id": "4",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" },
      "className": "connector-node"
    },
    {
      "id": "5",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" },
      "className": "connector-node"
    },
    {
      "id": "6",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "7",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "8",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "9",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "10",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "11",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "12",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "13",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "14",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "15",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "16",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "17",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "18",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "19",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "20",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "21",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "22",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "23",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "24",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "25",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "26",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "27",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "28",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "29",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "30",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "31",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "32",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "33",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "34",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "35",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "36",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "37",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "38",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "39",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "40",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    },
    {
      "id": "41",
      "position": { "x": 0, "y": 0 },
      "data": { "label": "Label", "className": "node-label" }
    }
  ],
  "edges": [
    { "id": "0", "source": "1", "target": "9" },
    { "id": "1", "source": "9", "target": "11" },
    { "id": "2", "source": "11", "target": "1" },
    { "id": "3", "source": "9", "target": "6" },
    { "id": "4", "source": "6", "target": "10" },
    { "id": "5", "source": "10", "target": "9" },
    { "id": "6", "source": "10", "target": "8" },
    { "id": "7", "source": "8", "target": "11" },
    { "id": "8", "source": "11", "target": "10" },
    { "id": "9", "source": "6", "target": "12" },
    { "id": "10", "source": "12", "target": "14" },
    { "id": "11", "source": "14", "target": "6" },
    { "id": "12", "source": "12", "target": "3" },
    { "id": "13", "source": "3", "target": "13" },
    { "id": "14", "source": "13", "target": "12" },
    { "id": "15", "source": "13", "target": "7" },
    { "id": "16", "source": "7", "target": "14" },
    { "id": "17", "source": "14", "target": "13" },
    { "id": "18", "source": "7", "target": "15" },
    { "id": "19", "source": "15", "target": "17" },
    { "id": "20", "source": "17", "target": "7" },
    { "id": "21", "source": "15", "target": "5" },
    { "id": "22", "source": "5", "target": "16" },
    { "id": "23", "source": "16", "target": "15" },
    { "id": "24", "source": "16", "target": "8" },
    { "id": "25", "source": "8", "target": "17" },
    { "id": "26", "source": "17", "target": "16" },
    { "id": "27", "source": "3", "target": "21" },
    { "id": "28", "source": "21", "target": "23" },
    { "id": "29", "source": "23", "target": "3" },
    { "id": "30", "source": "21", "target": "18" },
    { "id": "31", "source": "18", "target": "22" },
    { "id": "32", "source": "22", "target": "21" },
    { "id": "33", "source": "22", "target": "20" },
    { "id": "34", "source": "20", "target": "23" },
    { "id": "35", "source": "23", "target": "22" },
    { "id": "36", "source": "18", "target": "24" },
    { "id": "37", "source": "24", "target": "26" },
    { "id": "38", "source": "26", "target": "18" },
    { "id": "39", "source": "24", "target": "0" },
    { "id": "40", "source": "0", "target": "25" },
    { "id": "41", "source": "25", "target": "24" },
    { "id": "42", "source": "25", "target": "19" },
    { "id": "43", "source": "19", "target": "26" },
    { "id": "44", "source": "26", "target": "25" },
    { "id": "45", "source": "19", "target": "27" },
    { "id": "46", "source": "27", "target": "29" },
    { "id": "47", "source": "29", "target": "19" },
    { "id": "48", "source": "27", "target": "4" },
    { "id": "49", "source": "4", "target": "28" },
    { "id": "50", "source": "28", "target": "27" },
    { "id": "51", "source": "28", "target": "20" },
    { "id": "52", "source": "20", "target": "29" },
    { "id": "53", "source": "29", "target": "28" },
    { "id": "54", "source": "4", "target": "33" },
    { "id": "55", "source": "33", "target": "35" },
    { "id": "56", "source": "35", "target": "4" },
    { "id": "57", "source": "33", "target": "30" },
    { "id": "58", "source": "30", "target": "34" },
    { "id": "59", "source": "34", "target": "33" },
    { "id": "60", "source": "34", "target": "32" },
    { "id": "61", "source": "32", "target": "35" },
    { "id": "62", "source": "35", "target": "34" },
    { "id": "63", "source": "30", "target": "36" },
    { "id": "64", "source": "36", "target": "38" },
    { "id": "65", "source": "38", "target": "30" },
    { "id": "66", "source": "36", "target": "2" },
    { "id": "67", "source": "2", "target": "37" },
    { "id": "68", "source": "37", "target": "36" },
    { "id": "69", "source": "37", "target": "31" },
    { "id": "70", "source": "31", "target": "38" },
    { "id": "71", "source": "38", "target": "37" },
    { "id": "72", "source": "31", "target": "39" },
    { "id": "73", "source": "39", "target": "41" },
    { "id": "74", "source": "41", "target": "31" },
    { "id": "75", "source": "39", "target": "5" },
    { "id": "76", "source": "5", "target": "40" },
    { "id": "77", "source": "40", "target": "39" },
    { "id": "78", "source": "40", "target": "32" },
    { "id": "79", "source": "32", "target": "41" },
    { "id": "80", "source": "41", "target": "40" }
  ]
}
`}
    css={`
     .react-flow__node {
          background-color: #ca0c3b;
          width: 50px;
          height: 50px;
          border-radius: 30px;
          border-color: #510518;
      }

     .node-label {
         background-color: #ea9eb1;
         color: #510518;
         border-radius: 8px;
         padding: 5px;
         font-weight: bold;
     }

     .connector-node {
         width: 70px;
         height: 70px;
         border-radius: 40px;
     }

     .react-flow__edge-path {
         stroke: #c1c1c1;
         stroke-width: 2px;
     }

     .react-flow__handle {
         visibility: hidden;
     }
`}
/>